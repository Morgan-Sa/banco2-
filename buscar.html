<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="stylebusca.css" media="screen" />
    <title>Buscar</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
    <form action="http://localhost:8080/buscar" method="post" class="formulario">    
   

        <h1 class="title"><i class="icon icon-mail-1"></i> Buscar</h1>
         
         <label class="label">
             <span>Nome</span>
             <input type="text" name="nome" class="campo" placeholder="Digite o nome aqui" required="" id="nome"/>
         </label>

         <label class="label"> 
             
             <input type="hidden" name="acao" value="enviar"> 
             <button type="button" class="botao" onclick="buscar()"> Buscar </button>
         
         </label>
         

  
   </form> 

   <script>

function buscar(){
        var nome = $("#nome").val();
        $.ajax({
        type: "GET",
        url: "http://localhost:8080/buscar/" + nome,
        dataType: 'json',
        contentType: "application/json",

        success: function(data, status, xhr){
          var ponto = data[0];
          window.location = 'https://www.google.com/maps/search/?api=1&query='+ponto.latitude+','+ponto.longitude
        },
        error: function(result){
            console.log(result);
        }
    })
    }
    
   
   </script>
</body>
</html>